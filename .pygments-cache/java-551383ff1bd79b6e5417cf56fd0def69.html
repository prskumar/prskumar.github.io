<div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrderCallback</span> <span class="kd">implements</span> <span class="n">InvocationCallback</span><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">completed</span><span class="o">(</span><span class="n">Order</span> <span class="n">order</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;We received an order.&quot;</span><span class="o">);</span>
  <span class="o">}</span>
  
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">failed</span><span class="o">(</span><span class="n">Throwable</span> <span class="n">throwable</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">throwable</span> <span class="k">instanceof</span> <span class="n">WebApplicationException</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">WebApplicationException</span> <span class="n">wae</span> <span class="o">=</span> <span class="o">(</span><span class="n">WebApplicationException</span><span class="o">)</span><span class="n">throwable</span><span class="o">;</span>
      <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Failed with status: &quot;</span> <span class="o">+</span> <span class="n">wae</span><span class="o">.</span><span class="na">getResponse</span><span class="o">().</span><span class="na">getStatus</span><span class="o">());</span>
    <span class="o">}</span> <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">throwable</span> <span class="k">instanceof</span> <span class="n">ResponseProcessingException</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// when there is an issue unmarshalling</span>
      <span class="n">ResponseProcessingException</span> <span class="n">rpe</span> <span class="o">=</span> <span class="o">(</span><span class="n">ResponseProcessingException</span><span class="o">)</span><span class="n">cause</span><span class="o">;</span>
      <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Failed with status: &quot;</span> <span class="o">+</span> <span class="n">rpe</span><span class="o">.</span><span class="na">getResponse</span><span class="o">().</span><span class="na">getStatus</span><span class="o">());</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
      <span class="n">throwable</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>