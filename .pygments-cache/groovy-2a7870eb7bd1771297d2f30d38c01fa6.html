<div class="highlight"><pre><span class="nl">setup:</span> <span class="n">OR</span> <span class="nl">given:</span> <span class="s2">&quot;setup and init of...&quot;</span> <span class="c1">//must be first and only. label is optional</span>
<span class="kt">def</span> <span class="n">stack</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Stack</span><span class="o">()</span>
<span class="kt">def</span> <span class="n">elem</span> <span class="o">=</span> <span class="s2">&quot;push me&quot;</span>

<span class="n">when</span><span class="s">/then blocks</span>
<span class="s">when: //stimulus</span>
<span class="s">stack.push(elem)</span>

<span class="s">then: //response</span>
<span class="s">!stack.empty /</span><span class="o">/</span><span class="n">leverages</span> <span class="n">Groovy</span> <span class="n">truthy</span> <span class="n">feature</span><span class="o">.</span> <span class="n">Implicitly</span> <span class="n">asserts</span> <span class="n">the</span> <span class="n">collection</span> <span class="n">is</span> <span class="n">not</span> <span class="kc">null</span> <span class="n">and</span> <span class="n">not</span> <span class="n">empty</span>
<span class="n">stack</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span>
<span class="n">stack</span><span class="o">.</span><span class="na">peek</span><span class="o">()</span> <span class="o">==</span> <span class="n">elem</span>
</pre></div>